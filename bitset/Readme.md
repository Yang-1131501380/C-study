## bitset 总结

### 什么是 bitset

`std::bitset` 是 C++ 标准库提供的一个模板类，用于处理固定大小的位序列。它提供了方便的位操作接口，比使用整数类型进行位操作更加直观和安全。

### 主要特性

1. **固定大小**：在编译时就确定了位数，声明方式为 `std::bitset<N>`，其中 N 是位数
2. **高效存储**：每个元素只占用 1 位空间，比 bool 数组更节省内存
3. **丰富操作**：提供了完整的位操作功能，包括设置、清除、翻转、测试等
4. **类型安全**：相比手动位操作，提供了更好的类型安全保障

### 常用操作分类

| 操作类型 | 主要函数                              |                         |
| -------- | ------------------------------------- | ----------------------- |
| 初始化   | 默认初始化、整数初始化、字符串初始化  |                         |
| 位访问   | `operator[]`、`test()`                |                         |
| 位修改   | `set()`、`reset()`、`flip()`          |                         |
| 位运算   | `&`、`                                | `、`^`、`~`、`<<`、`>>` |
| 状态查询 | `all()`、`any()`、`none()`、`count()` |                         |
| 转换     | `to_ulong()`、`to_string()`           |                         |

## 使用注意事项

1. **大小固定**：`bitset` 的大小在编译时必须确定，不能动态改变。如果需要动态大小的位集合，可以考虑使用 `vector<bool>`
2. **索引问题**：`bitset` 使用 0-based 索引，第一位是索引 0，而打印时通常显示为最左边的位
3. **初始化限制**：当使用整数初始化时，只会使用该整数的低 N 位（N 为 bitset 大小）
4. **字符串初始化**：字符串中的字符只能是 '0' 或 '1'，否则会抛出异常
5. **性能考虑**：`bitset` 的操作通常比手动位操作略慢，但提供了更好的可读性和安全性
6. **转换限制**：`to_ulong()` 只能用于能被 `unsigned long` 容纳的 `bitset`，过大的 `bitset` 会抛出异常
7. **比较操作**：`bitset` 可以使用 `==` 和 `!=` 进行比较，但不能直接使用 `<`、`>` 等关系运算符
8. **I/O 操作**：`bitset` 支持直接输入输出，方便进行格式化操作



通过合理使用 `bitset`，可以简化位操作相关的代码，提高程序的可读性和可维护性，特别适合用于处理标志位、位掩码、压缩存储等场景。